## 项目简介

`yuazhi-chat` 是一个基于 PHP、JS、CSS 和 HTML 技术栈构建的开源即时通讯聊天系统，旨在为用户提供跨平台的高效聊天体验。支持文本、图片、文件等多种消息格式，并支持一对一聊天、群聊等功能。该项目适用于个人用户和团队合作，致力于提供稳定、流畅的实时通讯体验。

### 核心特性

- **实时消息**：利用 WebSocket 实现即时消息传输，确保消息实时送达。
- **群组与私人聊天**：支持一对一私人聊天与多人群聊，群组支持成员管理、群公告等功能。
- **消息推送**：为离线用户提供消息推送服务，确保重要消息不被错过。
- **跨平台支持**：支持 Web 端、移动端（iOS 和 Android）使用，确保用户随时随地可以聊天。
- **AI 绘画助手**：集成 AI 绘画功能，用户可以通过 API 连接生成图像，增强互动体验。

### 目录结构

```
yuazhi-chat/
├── config/          # 项目的配置文件目录
├── models/          # 数据模型相关代码（用户、消息、群组）
├── routes/          # 后端路由定义
├── public/          # 静态文件（CSS、JS、图片等）
├── src/             # 核心业务逻辑代码
├── .env             # 环境变量配置文件
├── package.json     # 项目信息与依赖管理
```

### 数据模型

`yuazhi-chat` 使用 MySQL 存储数据，并通过 Redis 实现消息缓存和推送服务。以下是几个关键的数据模型：

- **用户模型**：存储用户基本信息，如用户名、密码、联系方式和聊天记录等。
- **消息模型**：存储每条消息的发送者、接收者、内容、时间戳等信息，支持多种消息格式（文本、图片、文件等）。
- **群组模型**：管理群组信息，包括群名称、成员列表、群公告等。

### 主要功能模块

#### 1. 消息发送与接收

- **实时聊天**：通过 WebSocket 实现实时消息发送与接收，支持文本、图片、音频、视频、文件等多种消息类型。
- **消息存储与检索**：所有聊天记录存储在 MySQL 中，用户可以随时查看历史消息。

#### 2. 用户管理

- 用户注册、登录、修改个人信息功能。
- 支持用户数据加密存储，确保信息安全。
- 用户在线状态与离线状态管理，未在线用户消息通过推送发送。

#### 3. 群组聊天

- 支持创建、管理群组，群组成员可以进行实时聊天。
- 支持群组内消息通知、成员管理、群公告等功能。
- 群组消息可以是公开或私密，确保信息安全。

#### 4. 消息推送

- 为离线用户提供实时消息推送，支持各种推送服务（如 Firebase、APNs）。
- 用户可以接收到重要消息提醒，确保不会错过任何重要通知。

#### 5. AI 绘画助手

- 通过 API 集成 AI 绘画功能，用户可以在聊天过程中生成图像，增加互动性。

### API 接口

以下是 `yuazhi-chat` 主要的 API 接口：

- **POST /api/v1/messages**：发送消息。
  - 请求体：{ "sender": "用户ID", "receiver": "接收者ID", "message": "消息内容", "type": "消息类型" }
  
- **GET /api/v1/messages**：获取消息记录。
  - 请求参数：{ "user_id": "用户ID", "chat_id": "聊天会话ID" }

- **POST /api/v1/users/register**：用户注册。
  - 请求体：{ "username": "用户名", "password": "密码", "email": "邮箱" }

- **POST /api/v1/users/login**：用户登录。
  - 请求体：{ "username": "用户名", "password": "密码" }

### 获取 API 密钥

要使用 `yuazhi-chat` 中的 AI 绘画助手功能，您需要获取一个有效的 API 密钥。请访问 [https://cloud.siliconflow.cn/models](https://cloud.siliconflow.cn/models) 获取密钥并将其添加到您的 `.env` 文件中。

配置示例：

```plaintext
AI_API_KEY=your-api-key-here
```

### 项目架构

`yuazhi-chat` 采用现代化的架构设计，前后端分离，基于 PHP、JS、CSS 和 HTML 构建。

- **前端**：使用 HTML 和 CSS 构建用户界面，JavaScript（如 Vue.js 或 React）处理动态交互和实时消息更新。
- **后端**：使用 PHP 和相关框架（如 Laravel）构建后端服务，处理用户认证、消息存储、群组管理等功能。
- **数据库**：MySQL 存储聊天记录，Redis 用于缓存和推送消息。
- **消息推送**：集成 Firebase 或其他推送服务，确保消息及时推送至离线用户。

### 待实现功能

- **WebSocket 连接稳定性优化**：提升 WebSocket 服务的稳定性和性能，优化大规模用户并发的处理能力。
- **聊天记录导出**：允许用户导出聊天记录到本地文件（如 PDF 或 TXT 格式）。
- **AI 绘画功能扩展**：优化 AI 绘画接口，提供更多绘画风格和创作选项，提升用户体验。

### 贡献指南

我们欢迎开发者贡献代码！如果你有兴趣参与项目开发，请按照以下步骤进行：

1. Fork 本仓库。
2. 创建新的分支进行功能开发。
3. 提交 Pull Request，并描述你的更改。

### 许可证

本项目采用 MIT 许可证，具体内容请查看 [LICENSE](LICENSE) 文件。

### 联系方式

如有问题或建议，欢迎通过以下方式与我们联系：

- **Email**: yuazhi@rjjr.cn
- **Blog**: [rjjr.cn](https://rjjr.cn)
